{"version":3,"file":"request.js","sources":["hooks/request.js"],"sourcesContent":["const BASE_URL=\"https://tea.qingnian8.com\"\r\n\r\n\r\nexport  function request(config={}){\r\n\t\r\nlet{\r\n\turl,\r\n\tmethod=\"GET\",\r\n\theader={},\r\n\tdata={}\r\n\t} = config\r\n\t\r\n\turl=BASE_URL+url\r\n\t// data['size']=6\r\n\t\r\n\theader['assess-key']='476320'\r\n\t// header['assess-key']='865114'\r\n\treturn new Promise((resolve,reject)=>{\r\n\t\tuni.request({\r\n\t\t\turl:url,\r\n\t\t\theader:header,\r\n\t\t\tmethod:method,\r\n\t\t\tdata:data,\r\n\t\t\tsuccess:(res) => {\r\n\t\t\t\tif(res.data.errCode===0){\r\n\t\t\t\t\tresolve(res.data)\r\n\t\t\t\t}else if(res.data.errCode===400){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:\"错误提示\",\r\n\t\t\t\t\t\tcontent:res.data.errMsg,\r\n\t\t\t\t\t\tshowCancel:false\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:res.data.errMsg,\r\n\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail:(err)=>{\r\n\t\t\t\treject(err)\r\n\t\t\t}\r\n\t\t})\r\n\t})\r\n\t\r\n\t\r\n\t\r\n}"],"names":["uni"],"mappings":";;AAAA,MAAM,WAAS;AAGP,SAAS,QAAQ,SAAO,IAAG;AAEnC,MAAG;AAAA,IACF;AAAA,IACA,SAAO;AAAA,IACP,SAAO,CAAE;AAAA,IACT,OAAK,CAAE;AAAA,EACR,IAAK;AAEJ,QAAI,WAAS;AAGb,SAAO,YAAY,IAAE;AAErB,SAAO,IAAI,QAAQ,CAAC,SAAQ,WAAS;AACpCA,kBAAAA,MAAI,QAAQ;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAQ,CAAC,QAAQ;AAChB,YAAG,IAAI,KAAK,YAAU,GAAE;AACvB,kBAAQ,IAAI,IAAI;AAAA,QAChB,WAAQ,IAAI,KAAK,YAAU,KAAI;AAC/BA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,SAAQ,IAAI,KAAK;AAAA,YACjB,YAAW;AAAA,UACjB,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACpB,OAAS;AACJA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM,IAAI,KAAK;AAAA,YACf,MAAK;AAAA,UACX,CAAM;AAAA,QACD;AAAA,MACD;AAAA,MACD,MAAK,CAAC,QAAM;AACX,eAAO,GAAG;AAAA,MACV;AAAA,IACJ,CAAG;AAAA,EACH,CAAE;AAIF;;"}